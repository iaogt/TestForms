<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Despacho de Combustible</title>
    <link rel="stylesheet" href="../css/bootstrap/bootstrap.min.css">
    <link href="/css/SweetAlert/sweetalert.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <div class="container" ng-app="myApp" ng-controller="internadespachoCtrl as $ctrl">
      <nav class="navbar navbar-light bg-light justify-content-between">
        <a class="navbar-brand">OECC</a>
        <form class="form-inline">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Guardar</button>
        </form>
      </nav>
      <script type="text/ng-template" id="modalDespachos.html">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Nuevo Despacho</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="$ctrl.cancel()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <form name="internaDespachosForm" ng-submit="submitDespachosForm()">
            <!-- <div class="form-group">
              <label for="recipient-name" class="col-form-label">Static arrays</label>
              <pre>Model: {{selected | json}}</pre>
              <input type="text" ng-model="selected" uib-typeahead="placa for placa in placas | filter:$viewValue | limitTo:8" class="form-control">
            </div> -->
            <div class="form-group">
              <label for="kilometraje-name" class="col-form-label">Kilometraje del Vehículo</label>
              <input type="number" name="kilometraje" ng-model="nuevoDespacho.kilometraje" class="form-control" id="kilometraje-name" placeholder="000.00/0000.00" required>
            </div>
            <div class="form-group">
              <label for="placas-name" class="col-form-label">Placas del Vehículo</label>
              <input type="text" name="placa" ng-model="nuevoDespacho.placa" uib-typeahead="placa for placa in placas | filter:$viewValue | limitTo:8" class="form-control" placeholder="TC-8598NR" required>
            </div>
            <div class="form-group">
              <label for="exampleFormControlSelect1">Departamento</label>
              <select class="form-control" name="departamento" ng-model="nuevoDespacho.departamento" id="exampleFormControlSelect1" required>
                <option></option>
                <option>Taller</option>
                <option>Compras</option>
                <option>Admin</option>
                <option>Cemento</option>
                <option>Transporte</option>
                <option>Engrase</option>
                <option>Provial</option>
                <option>Laboratorio</option>
              </select>
            </div>
            <div class="form-group">
              <label for="galones-name" class="col-form-label">Galones Despachados</label>
              <input type="number" name="galones" ng-model="nuevoDespacho.galones" class="form-control" id="galones-name" placeholder="0000.00" required>
            </div>
            <div class="form-group">
              <label for="piloto-name" class="col-form-label">Piloto</label>
              <input type="text" name="piloto" ng-model="nuevoDespacho.piloto" class="form-control" id="piloto-name" placeholder="Jorge Castillo" required>
            </div>
            <div class="form-group">
              <label for="firma-name" class="col-form-label">Firma</label>
              <input type="text" name="firma" ng-model="nuevoDespacho.firma" class="form-control" id="firma-name" placeholder="Jorge Castillo" required>
            </div>
            <!-- <div class="form-group">
              <label for="message-text" class="col-form-label">Message:</label>
              <textarea class="form-control" id="message-text"></textarea>
            </div> -->
          </form>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" ng-click="$ctrl.cancel()">Cerrar</button>
          <button type="submit" class="btn btn-primary" ng-click="$ctrl.ok()">Guardar</button>
        </div>
      </script>


      <div class="row">
        <div class="col-md-12">
          <div class="jumbotron">
            <div class="row">
              <div class="col-lg-12 col-md-12 col-xs-12">
                <h1 class="title">Historial de Despachos</h1>
                <h1 id="holamundo"></h1>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-xs-12">
                <p>Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile-first projects on the web.</p>
              </div>
            </div>

            <!-- Fecha -->
            <div class="row">
              <div class="col-lg-6 col-md-6 col-xs-6">
              </div>
              <div class="col-lg-6 col-md-6 col-xs-6">
                <div class="form-group">
                  <label for="fecha-name" class="col-form-label">Fecha</label>
                  <input type="date" ng-model="fechaDespacho" class="form-control" value="2018-06-01" required>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-12 col-md-12 col-xs-12">
                <form>
                  <div id="accordion">
                    <div class="card">
                      <div class="card-header" id="headingOne">
                        <h5 class="mb-0">
                          <button class="btn btn-link" aria-expanded="true" aria-controls="collapseOne" ng-click="mostrarTanques = !mostrarTanques">
                            Medida de Tanques
                          </button>
                        </h5>
                      </div>

                      <div uib-collapse="mostrarTanques" id="collapseOne" class="collapse show" aria-labelledby="headingOne">
                        <div class="card-body">

                          <!-- Medida de Tanque 5k -->
                          <div class="row">
                            <div class="col-md-3">
                              <div class="form-group">
                                <label for="tanqueInicial5-name" class="col-form-label">Medida Inicial de Tanque 5k</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.tanqueInicio5K" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <label for="galonesInicales5-name" class="col-form-label">Galones</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.galonesInicio5K" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <label for="tanqueFinal5-name" class="col-form-label">Medida Final de Tanque 5k</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.tanqueFinal5K" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <label for="galonesFinal5-name" class="col-form-label">Galones</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.galonesFinal5K" class="form-control" required>
                              </div>
                            </div>
                          </div>

                          <!-- Medida Tanque 10k -->
                          <div class="row">
                            <div class="col-md-3">
                              <div class="form-group">
                                <label for="tanqueInicial10-name" class="col-form-label">Medida Inicial de Tanque 10k</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.tanqueInicio10K" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <label for="galonesInicial10-name" class="col-form-label">Galones</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.galonesInicio10K" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <label for="tanqueFinal10-name" class="col-form-label">Medida Final de Tanque 10k</label>
                                <input type="text" ng-model="nuevoFormularioDespacho.tanqueFinal10K" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <label for="galonesFinal10-name" class="col-form-label">Galones</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.galonesFinal10K" class="form-control" required>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                    <div class="card">
                      <div class="card-header" id="headingTwo">
                        <h5 class="mb-0">
                          <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" ng-click="mostrarBombas = !mostrarBombas">
                            Contador Bombas
                          </button>
                        </h5>
                      </div>
                      <div uib-collapse="mostrarBombas" id="collapseTwo" class="show" aria-labelledby="headingTwo" data-parent="#accordion">
                        <div class="card-body">
                          <!-- Contador Bomba 1 -->
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Contador Inicial Bomba 1</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.contadorInicialB1" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Contador Final Bomba 1</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.contadorFinalB1" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Total Despachado</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.TotalDespachadoB1" class="form-control" required>
                              </div>
                            </div>
                          </div>

                          <!-- Contador Bomba 2 -->
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Contador Inicial Bomba 2</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.contadorInicialB2" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Contador Final Bomba 2</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.contadorFinalB2" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Total Despachado</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.TotalDespachadoB2" class="form-control" required>
                              </div>
                            </div>
                          </div>

                          <!-- Contador Bomba 3 -->
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Contador Inicial Bomba 3</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.contadorInicialB3" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Contador Final Bomba 3</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.contadorFinalB3" class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Total Despachado</label>
                                <input type="number" ng-model="nuevoFormularioDespacho.TotalDespachadoB3" class="form-control" required>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row top-space-5">
                    <div class="col-lg-6 col-md-6 col-xs-6">
                      <button type="button" class="btn btn-primary btn-center" data-toggle="modal" data-target="#exampleModal" ng-click="guardarInfo()">Guardar Información</button>
                    </div>
                    <div class="col-lg-6 col-md-6 col-xs-6">
                      <button type="button" class="btn btn-primary btn-center" data-toggle="modal" data-target="#exampleModal" ng-click="$ctrl.openModal()">Nuevo Registro</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>

            <div class="row top-space-10">
              <div class="col-lg-12 col-md-12 col-xs-12">
                <table class="table table-striped table-dark">
                  <thead>
                    <tr>
                      <th scope="col">Kilometraje Vehículo</th>
                      <th scope="col">Placas/Vehículo</th>
                      <th scope="col" class="d-none d-sm-none d-md-table-cell">Departamento</th>
                      <th scope="col" class="d-none d-sm-none d-md-table-cell">Galones Despachado</th>
                      <th scope="col" class="d-none d-sm-none d-md-table-cell">Piloto</th>
                      <th scope="col" class="d-none d-sm-none d-md-table-cell">Firma</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="record in records">
                      <th scope="row">{{record.No}}</th>
                      <td>{{record.First}}</td>
                      <td class="d-none d-sm-none d-md-table-cell">{{record.Last}}</td>
                      <td class="d-none d-sm-none d-md-table-cell">{{record.Handle}}</td>
                      <td class="d-none d-sm-none d-md-table-cell">{{record.Handle}}</td>
                      <td class="d-none d-sm-none d-md-table-cell">{{record.Handle}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

          </div>

        </div>
      </div>
    </div>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.6.6/firebase.js"></script>
    <script>
    // Initialize Firebase
    // TODO: Replace with your project's customized code snippet
    var config = {
      apiKey: "AIzaSyBXh5rzrlo_fc2rpTTm8KS7zBY7tF8-qFY",
      authDomain: "oeccforms.firebaseapp.com",
      databaseURL: "https://oeccforms.firebaseio.com"
    };
    firebase.initializeApp(config);

    // var ref = firebase.database().ref();
    // // download the data into a local object
    // // var data = $firebaseObject(ref);
    // console.log(ref);
    //
    // var equipos = firebase.database().ref('/equipos/').once('value');
    // console.log(equipos);
  </script>

  <script src="../js/angular/angular.min.js"></script>
  <script src="../js/angular/angular-touch.js"></script>
  <script src="../js/bootstrap/ui-bootstrap-tpls-2.5.0.min.js"></script>
  <script src="../js/angular/angular-ui-router.js"></script>
  <script src="../js/internadespachoCtrl.js"></script>

  <!-- AngularFire -->
  <script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.min.js"></script>
  </body>

  <!-- <script src="js/jquery/jquery-ui.js"></script>
  <script src="js/SweetAlert/sweetalert.min.js"></script> -->
</html>
